import{r as n,u as N,j as e,f as v}from"./index-BCEYEMy3.js";import{g as o}from"./IconUtils-CfIqz1bd.js";import"./list-ChE-B9Q2.js";import"./square-pen-D-7DpYbi.js";function C({activeTab:l,onTabChange:i,isOpen:a,onToggle:u,username:c,menuItems:h}){const[d,g]=n.useState({}),[x,m]=n.useState("");n.useEffect(()=>{(async()=>{const t=await v();m(t||"次元栈")})()},[]);const r=s=>{if(!s)return"";const t=s.split("/");return t[t.length-1]||t[t.length-2]||""},f=s=>s?s.charAt(0).toUpperCase():"L",j=s=>{g(t=>({...t,[s]:!t[s]}))},p=N(),b=()=>{p("/dashboard/profile")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`${a?"w-64":"w-16"} bg-white border-r border-gray-200 transition-all duration-300 ease-in-out flex flex-col relative z-30`,children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[a?x:x?.charAt(0)," "]})})})}),e.jsx("nav",{className:"mt-4 flex-1 overflow-y-auto",children:e.jsx("ul",{className:"space-y-1 px-2",children:h.map(s=>s&&e.jsx("li",{children:s.children?e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>{a?j(s.id):u()},className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${l===r(s.link)?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"text-lg",children:o(s.icon)}),a&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"ml-3",children:s.title}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`ml-auto h-4 w-4 transition-transform duration-200 ${d[s.id]?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),a&&d[s.id]&&e.jsx("ul",{className:"mt-1 space-y-1",children:s.children.map(t=>t&&e.jsx("li",{children:e.jsxs("button",{onClick:()=>i(r(t.link)),className:`w-full flex items-center px-3 py-2 ml-6 text-sm font-medium rounded-md transition-colors duration-200 ${l===r(t.link)?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"text-base",children:o(t.icon)}),e.jsx("span",{className:"ml-3",children:t.title})]})},t.id))})]}):e.jsxs("button",{onClick:()=>i(r(s.link)),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ${l===r(s.link)?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("span",{className:"text-lg",children:o(s.icon)}),a&&e.jsx("span",{className:"ml-3",children:s.title})]})},s.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold",children:f(c)}),a&&e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c})}),a&&e.jsx("button",{onClick:b,className:"text-gray-500 hover:text-gray-700 p-1 rounded-md hover:bg-gray-100 transition-colors duration-200",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})})]})})}export{C as default};
